<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏î‡∏™‡∏≠‡∏ö Frontend Cart - ZapShop</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Kanit', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            color: #2c3e50;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 25px;
        }
        .cart-item {
            display: grid;
            grid-template-columns: 80px 1fr 120px 120px 120px 100px;
            gap: 20px;
            align-items: center;
            padding: 25px;
            border-bottom: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }
        .cart-item:hover {
            background: #f8f9fa;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .cart-item.removing {
            opacity: 0;
            transform: translateX(-100%);
            transition: all 0.3s ease;
        }
        .product-image-container {
            width: 70px;
            height: 70px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .product-name {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.1rem;
        }
        .product-price {
            font-weight: 700;
            color: #e31837;
            font-size: 1.2rem;
            text-align: center;
        }
        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            background: #f8f9fa;
            padding: 8px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        .quantity-btn {
            background: #e31837;
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        .quantity-btn:hover {
            background: #c41230;
            transform: scale(1.1);
            box-shadow: 0 2px 8px rgba(227, 24, 55, 0.3);
        }
        .quantity-input {
            width: 50px;
            text-align: center;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 6px;
            font-weight: 600;
            color: #2c3e50;
        }
        .quantity-input:focus {
            outline: none;
            border-color: #e31837;
            box-shadow: 0 0 0 3px rgba(227, 24, 55, 0.1);
        }
        .item-total {
            font-weight: 700;
            color: #e31837;
            font-size: 1.2rem;
            text-align: center;
        }
        .remove-btn {
            background: #e31837;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }
        .remove-btn:hover {
            background: #c41230;
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(227, 24, 55, 0.3);
        }
        .cart-total {
            text-align: right;
            font-size: 18px;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        .test-info {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .test-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .btn-test {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .btn-test-primary {
            background: #007bff;
            color: white;
        }
        .btn-test-success {
            background: #28a745;
            color: white;
        }
        .btn-test-warning {
            background: #ffc107;
            color: black;
        }
        .btn-test:hover {
            opacity: 0.8;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-section">
            <h1><i class="fas fa-shopping-cart"></i> ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Frontend Cart System</h1>
            <p>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö Frontend-first</p>
            
            <div class="test-info">
                <h5><i class="fas fa-info-circle"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h5>
                <p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</strong></p>
                <ul>
                    <li>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <strong>+</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</li>
                    <li>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <strong>-</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</li>
                    <li>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á input ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á</li>
                    <li>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <strong>üóëÔ∏è</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</li>
                    <li>‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡πÅ‡∏ö‡∏ö real-time</li>
                </ul>
            </div>
            
            <div class="test-buttons">
                <button class="btn-test btn-test-primary" onclick="addTestItem()">
                    <i class="fas fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö
                </button>
                <button class="btn-test btn-test-success" onclick="resetCart()">
                    <i class="fas fa-refresh"></i> ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                </button>
                <button class="btn-test btn-test-warning" onclick="showCartData()">
                    <i class="fas fa-eye"></i> ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                </button>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-shopping-bag"></i> ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</h3>
            
            <div class="cart-item" style="background: #e9ecef; font-weight: bold;">
                <div>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</div>
                <div>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                <div>‡∏£‡∏≤‡∏Ñ‡∏≤</div>
                <div>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</div>
                <div>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</div>
                <div>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</div>
            </div>
            
            <div id="cart-items">
                <!-- ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
            </div>
            
            <div class="cart-total" id="cart-total">
                <strong>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ‡∏ø0.00</strong>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
    // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö
    let testProducts = [
        { id: 1, name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î ZapShop', price: 250, image: 'https://placehold.co/70x70/cccccc/333333?text=Shirt' },
        { id: 2, name: '‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå ZapShop', price: 800, image: 'https://placehold.co/70x70/cccccc/333333?text=Jeans' },
        { id: 3, name: '‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤ ZapShop', price: 1200, image: 'https://placehold.co/70x70/cccccc/333333?text=Shoes' }
    ];
    
    let cartData = {};
    let nextProductId = 1;

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö
    function addTestItem() {
        const product = testProducts[Math.floor(Math.random() * testProducts.length)];
        const productId = nextProductId++;
        
        cartData[productId] = {
            id: productId,
            name: product.name,
            price: product.price,
            image: product.image,
            quantity: 1
        };
        
        renderCart();
        showNotification(`‡πÄ‡∏û‡∏¥‡πà‡∏° ${product.name} ‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß`, 'success');
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
    function resetCart() {
        cartData = {};
        nextProductId = 1;
        renderCart();
        showNotification('‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß', 'info');
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
    function showCartData() {
        console.log('Cart Data:', cartData);
        showNotification('‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÉ‡∏ô Console (F12)', 'info');
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
    function renderCart() {
        const cartItemsContainer = document.getElementById('cart-items');
        cartItemsContainer.innerHTML = '';
        
        Object.values(cartData).forEach(item => {
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            cartItem.innerHTML = `
                <div>
                    <div class="product-image-container">
                        <img src="${item.image}" alt="${item.name}" class="product-image">
                    </div>
                </div>
                <div>
                    <div class="product-name">${item.name}</div>
                </div>
                <div class="product-price">‡∏ø${item.price.toLocaleString()}</div>
                <div class="quantity-controls">
                    <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)" title="‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
                        <i class="fas fa-minus"></i>
                    </button>
                    <input type="number" class="quantity-input" value="${item.quantity}" 
                           min="1" max="99" 
                           onchange="handleQuantityChange(${item.id}, this)"
                           oninput="this.value = Math.max(1, Math.min(99, parseInt(this.value) || 1))">
                    <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)" title="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="item-total">‡∏ø${(item.price * item.quantity).toLocaleString()}</div>
                <div>
                    <button class="remove-btn" onclick="removeItem(${item.id})" title="‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `;
            cartItemsContainer.appendChild(cartItem);
        });
        
        updateCartTotal();
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    function updateQuantity(productId, change) {
        if (!cartData[productId]) return;
        
        const currentQty = cartData[productId].quantity;
        const newQty = Math.max(1, currentQty + change);
        
        cartData[productId].quantity = newQty;
        
        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï input
        const quantityInput = document.querySelector(`input[onchange*="handleQuantityChange(${productId}"]`);
        if (quantityInput) {
            quantityInput.value = newQty;
        }
        
        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°
        updateItemTotal(productId);
        updateCartTotal();
        
        showNotification(`‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô ${newQty} ‡∏ä‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß`, 'success');
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
    function updateItemTotal(productId) {
        const item = cartData[productId];
        if (!item) return;
        
        const total = item.price * item.quantity;
        const quantityInput = document.querySelector(`input[onchange*="handleQuantityChange(${productId}"]`);
        if (!quantityInput) return;
        
        const cartItem = quantityInput.closest('.cart-item');
        const itemTotalElement = cartItem.querySelector('.item-total');
        
        if (itemTotalElement) {
            itemTotalElement.textContent = `‡∏ø${total.toLocaleString()}`;
        }
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    function updateCartTotal() {
        let totalAmount = 0;
        let totalItems = 0;
        
        Object.values(cartData).forEach(item => {
            totalAmount += item.price * item.quantity;
            totalItems += item.quantity;
        });
        
        const totalElement = document.getElementById('cart-total');
        totalElement.innerHTML = `<strong>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ‡∏ø${totalAmount.toLocaleString()}</strong>`;
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    function removeItem(productId) {
        if (!cartData[productId]) return;
        
        if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
            const quantityInput = document.querySelector(`input[onchange*="handleQuantityChange(${productId}"]`);
            if (!quantityInput) return;
            
            const cartItem = quantityInput.closest('.cart-item');
            cartItem.classList.add('removing');
            
            setTimeout(() => {
                delete cartData[productId];
                renderCart();
                showNotification('‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß', 'info');
            }, 300);
        }
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á input ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
    function handleQuantityChange(productId, inputElement) {
        if (!cartData[productId]) return;
        
        const newQty = parseInt(inputElement.value, 10);
        const maxStock = parseInt(inputElement.getAttribute('max'), 10);
        
        if (isNaN(newQty) || newQty < 1) {
            inputElement.value = 1;
            cartData[productId].quantity = 1;
            showNotification('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0', 'warning');
            updateItemTotal(productId);
            updateCartTotal();
            return;
        }
        
        if (newQty > maxStock) {
            inputElement.value = maxStock;
            cartData[productId].quantity = maxStock;
            showNotification(`‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ${maxStock} ‡∏ä‡∏¥‡πâ‡∏ô)`, 'warning');
            updateItemTotal(productId);
            updateCartTotal();
            return;
        }
        
        cartData[productId].quantity = newQty;
        updateItemTotal(productId);
        updateCartTotal();
        showNotification(`‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô ${newQty} ‡∏ä‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß`, 'success');
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á notification
    function showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.className = `alert alert-${type} alert-dismissible fade show`;
        notification.style.position = 'fixed';
        notification.style.top = '20px';
        notification.style.right = '20px';
        notification.style.zIndex = '9999';
        notification.style.minWidth = '300px';
        notification.innerHTML = `
            ${message}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 3000);
    }

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    document.addEventListener('DOMContentLoaded', function() {
        showNotification('‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö Frontend Cart ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', 'success');
    });
    </script>
</body>
</html>
